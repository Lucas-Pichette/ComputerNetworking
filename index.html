<html lang="en">
	
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css">
		<title>Computer Networking - Lucas Pichette</title>
		<meta name="description" content="My Computer Networking Portfolio">
		<script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
	</head>

	<body id="bg">

		<ul class="nav_bar">
			<li class="dropdown">
				<a style="font-size: 42px; text-decoration:none;width:60px" href="javascript:void(0)" class="dropbtn">â‰¡</a>
				<div class="dropdown-content">
					<a href="pages/CS372-OSU.html">CS  - 372</a>
					<a href="pages/CS476-OSU.html">CS  - 476</a>
					<a href="pages/AWS-CSA.html">AWS - CSA</a>
				</div>
			</li>
			<li style="float:right;"><a id="img" href="https://github.com/Lucas-Pichette"><img class="img" src="images/white-github.svg"/></a></li>
			<li style="float:right;"><a id="img" href="https://www.linkedin.com/in/lucas-pichette-77a991159/"><img class="img" src="images/linkedin.svg"/></a></li>
		</ul>

		<!-- Just a padder -->
		<div style="height:50px;"></div>

		<header class="header">
			<h1>Computer Networking</h1>
		</header>

		<!-- Just a padder -->
		<div style="height:50px;"></div>

		<h3>Providing accurate and useful networking information.</h3>

		<h3 id="name">Test</h3>
		<h3 id="fav-num">Test</h3>

		<!-- Just a padder -->
		<div style="height:50px;"></div>

		<footer class="home">
			<span>Created by: <a class="contact-info" href="pages/about-me.html">Lucas Pichette</a></span>
			<div class="sep-cont"></div>
			<span>Contact Information: <a class="contact-info" href="mailto:lucascpichette@gmail.com">lucascpichette@gmail.com</a></span>
		</footer>


		<!-- The core Firebase JS SDK is always required and must be listed first -->
		<script src="https://www.gstatic.com/firebasejs/7.14.3/firebase-app.js"></script>

		<script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-auth.js"></script>
		
		<script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-firestore.js"></script>
		
		<script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-functions.js"></script>
		
		<script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-storage.js"></script>
		
		<script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-database.js"></script>

		<!-- TODO: Add SDKs for Firebase products that you want to use
		     https://firebase.google.com/docs/web/setup#available-libraries -->
		<script src="https://www.gstatic.com/firebasejs/7.14.3/firebase-analytics.js"></script>

		<script>
		  // Your web app's Firebase configuration
		  var firebaseConfig = {
		    apiKey: "AIzaSyBIrORQafmq65UfCANcQ4keEGv140m7Ufw",
		    authDomain: "computernetworking-5f028.firebaseapp.com",
		    databaseURL: "https://computernetworking-5f028.firebaseio.com",
		    projectId: "computernetworking-5f028",
		    storageBucket: "computernetworking-5f028.appspot.com",
		    messagingSenderId: "90100809260",
		    appId: "1:90100809260:web:cb5158022a37d420879b89",
		    measurementId: "G-GPC2XRKC7E",
				databaseURL: "https://computernetworking-5f028.firebaseio.com"
		  };
		  // Initialize Firebase
		  firebase.initializeApp(firebaseConfig);
		  firebase.analytics();
			let db = firebase.database();
			let s = firebase.storage().ref();

			function createCookie(key, value){
				document.cookie = escape(key) + "=" escape(value) + "; path=/;";
			}

			function getCookie(name){
				if(document.cookie.length > 0){
					let start = document.cookie.indexOf(name + "=");
					if(start!=-1){
						start=start+name+1;
						end=document.cookie.indexOf(";",start);
					}
					if(end==-1){
						end = document.cookie.length;
					}
					retrun unescape(document.cookie.substring(start, end));
				}
				return "";
			}

		  window.onload = function(){
				function newLoginHappened(user){
					if(user){
						console.log("user exists");
						document.cookie = "points=" + (getCookieValue("points")+1) + "; path=/;";
						/*db.collection("users").doc(authData.uid).set({
							email: authData.email,
							id: authData.uid,
							name: authData.name,
							points:0
						});*/
						
						let cookie = getCookie("points");


						if((user.displayName[0] == 'l' || user.displayName[0] == 'L') && user.displayName[1] == 'a' || user.displayName[1] == 'A'){
							window.document.getElementById("bg").setAttribute("style","background-color:#ebd6ff;");
						} 
						else if((user.displayName[0] == 'l' || user.displayName[0] == 'L') && user.displayName[1] == 'u' || user.displayName[1] == 'U'){
							window.document.getElementById("bg").setAttribute("style","background-color:#f4faff;");
						} 
						if((user.displayName[0] == 'm' || user.displayName[0] == 'M')){
							window.document.getElementById("bg").setAttribute("style","background-color:#c3b4ff;");
						} 
						else if(user.displayName[0] == 'r' || user.displayName[0] == 'R'){
							window.document.getElementById("bg").setAttribute("style","background-color:#ffd089;");
						}
						window.document.getElementById("name").innerHTML = "For, " + user.displayName;
					} else{
						let provider = new firebase.auth.GoogleAuthProvider();
						firebase.auth().signInWithRedirect(provider);
						createCookie("points", "0");
					}

					/*db.ref('users/' + user.id + '/data').set({
						points: 0
					});*/
					
					/*db.ref('users/' + user.id + '/data').put('value', function(snapshot){
						console.log('points: ' + snapshot.val());
					});*/
				}
				
				
				firebase.auth().onAuthStateChanged(newLoginHappened);
			}
		</script>
	</body>

</html>
